# GENERATED FILE - DO NOT MODIFY DIRECTLY
namespace = LIDAs
LIDAs.1 = {
	# Handjob Tease
	type = character_event
	title = LIDAs.1.t
	theme = seduction
	override_background = {
		trigger = {
			scope:locale = flag:battlefield
		}
		event_background = battlefield
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_night
		}
		event_background = alley_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_day
		}
		event_background = alley_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:temple
		}
		event_background = temple
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_night
		}
		event_background = corridor_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_day
		}
		event_background = corridor_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:courtyard
		}
		event_background = courtyard
	}
	override_background = {
		trigger = {
			scope:locale = flag:dungeon
		}
		event_background = dungeon
	}
	override_background = {
		trigger = {
			scope:locale = flag:docks
		}
		event_background = docks
	}
	override_background = {
		trigger = {
			scope:locale = flag:feast
		}
		event_background = feast
	}
	override_background = {
		trigger = {
			scope:locale = flag:market
		}
		event_background = market
	}
	override_background = {
		trigger = {
			scope:locale = flag:tavern
		}
		event_background = tavern
	}
	override_background = {
		trigger = {
			scope:locale = flag:throne_room
		}
		event_background = throne_room
	}
	override_background = {
		trigger = {
			scope:locale = flag:garden
		}
		event_background = garden
	}
	override_background = {
		trigger = {
			scope:locale = flag:gallows
		}
		event_background = gallows
	}
	override_background = {
		trigger = {
			scope:locale = flag:bedchamber
		}
		event_background = bedchamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:study
		}
		event_background = study
	}
	override_background = {
		trigger = {
			scope:locale = flag:council_chamber
		}
		event_background = council_chamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:sitting_room
		}
		event_background = sitting_room
	}
	left_portrait = {
		character = root
		animation = flirtation
	}
	right_portrait = {
		character = scope:affairs_partner
		animation = flirtation_left
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 28
				}
				# Spicing it Up
				# \n
				desc = sex_transition_28
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 30
				}
				# Flowers in Bloom
				# \n
				desc = sex_transition_30
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 32
				}
				# Chains of Command
				# \n
				desc = sex_transition_32
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 34
				}
				# Privileges of Power
				# \n
				desc = sex_transition_34
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 36
				}
				# Mead in my Room?
				# \n
				desc = sex_transition_36
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 38
				}
				# An Intimate Discussion
				# \n
				desc = sex_transition_38
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 40
				}
				# Taste of Heaven in Hell
				# \n
				desc = sex_transition_40
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 42
				}
				# The Sweetest Torture
				# \n
				desc = sex_transition_42
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 44
				}
				# Who Owns Who
				# \n
				desc = sex_transition_44
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 46
				}
				# A Chance Encounter
				# \n
				desc = sex_transition_46
			}
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 1
			}
			# defaulted to 28: EventsFirst.MEETING_WITH_SPOUSE -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_28
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 2
			}
			# defaulted to 30: EventsFirst.MEETING_WITH_SPOUSE_INITIAL -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_30
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 3
			}
			# defaulted to 32: EventsFirst.MEETING_WITH_VASSAL -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_32
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 4
			}
			# defaulted to 34: EventsFirst.MEETING_WITH_VASSAL_INITIAL -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_34
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 5
			}
			# defaulted to 36: EventsFirst.MEETING_WITH_LIEGE -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_36
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 6
			}
			# defaulted to 38: EventsFirst.MEETING_WITH_LIEGE_INITIAL -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_38
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 7
			}
			# defaulted to 40: EventsFirst.MEETING_WITH_PRISONER -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_40
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 8
			}
			# defaulted to 42: EventsFirst.MEETING_WITH_PRISONER_INITIAL -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_42
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 9
			}
			# defaulted to 44: EventsFirst.MEETING_WITH_ACQUAINTANCE -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_44
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 10
			}
			# defaulted to 46: EventsFirst.MEETING_WITH_ACQUAINTANCE_INITIAL -> EventsSex.HANDJOB_TEASE
			desc = sex_transition_46
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:root_cum = yes
				}
				desc = root_cum_f
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 2
				}
				desc = f_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 3
				}
				desc = f_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 4
				}
				desc = f_med_stam
			}
			desc = f_high_stam
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 2
				}
				desc = m_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 3
				}
				desc = m_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 4
				}
				desc = m_med_stam
			}
			desc = m_high_stam
		}
		desc = LIDAs.1.desc
	}
	immediate = {
		lida_ongoing_sex_effect = {
			STAMINA_COST_1 = 0
			STAMINA_COST_2 = 1
		}
		check_if_root_cum_effect = yes
		store_subdom_value_effect = yes
		calculate_dom_success_effect = yes
		random_list = {
			# HANDJOB
			10 = {
				save_scope_value_as = {
					name = dom_transition_0
					value = 1
				}
			}
		}
		save_scope_value_as = {
			name = dom_transition_1
			value = -1
		}
		random_list = {
			# BLOWJOB_DOM
			10 = {
				save_scope_value_as = {
					name = sub_transition_0
					value = 2
				}
			}
		}
		save_scope_value_as = {
			name = sub_transition_1
			value = -1
		}
		debug_log_scopes = yes
	}
	option = {
		# 1: EventsSex.HANDJOB_TEASE -> EventsSex.HANDJOB
		name = LIDAoption.1
		trigger = {
			NOT = { scope:root_cum = yes }
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 1
				scope:dom_transition_1 = 1
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 1
				scope:dom_transition_1 = 1
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 1
		}
		custom_tooltip = attempt_dom_tooltip
		save_temporary_scope_value_as = {
			name = this_dom_chance
			value = {
				add = scope:dom_chance
				add = 0
			}
		}
		if = {
			limit = {
				scope:dom_success <= scope:this_dom_chance
			}
			change_subdom_effect = {
				CHANGE = 1
			}
			save_scope_value_as = {
				name = sex_transition
				value = 1
			}
			trigger_event = LIDAs.3
		}
		else = {
			change_subdom_effect = {
				CHANGE = -2
			}
			save_scope_value_as = {
				name = sex_transition
				value = 10001
			}
			if = {
				limit = {
					scope:sub_transition_0 = 2
				}
				trigger_event = LIDAs.4
			}
		}
	}
	option = {
		# 2: EventsSex.HANDJOB_TEASE -> EventsSex.BLOWJOB_DOM
		name = LIDAoption.2
		trigger = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 2
				scope:sub_transition_1 = 2
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 2
				scope:sub_transition_1 = 2
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 1
		}
		custom_tooltip = voluntary_sub_tooltip
		change_subdom_effect = {
			CHANGE = -1
		}
		save_scope_value_as = {
			name = sex_transition
			value = 2
		}
		trigger_event = LIDAs.4
	}
}
LIDAs.3 = {
	# Handjob
	type = character_event
	title = LIDAs.3.t
	theme = seduction
	override_background = {
		trigger = {
			scope:locale = flag:battlefield
		}
		event_background = battlefield
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_night
		}
		event_background = alley_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_day
		}
		event_background = alley_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:temple
		}
		event_background = temple
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_night
		}
		event_background = corridor_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_day
		}
		event_background = corridor_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:courtyard
		}
		event_background = courtyard
	}
	override_background = {
		trigger = {
			scope:locale = flag:dungeon
		}
		event_background = dungeon
	}
	override_background = {
		trigger = {
			scope:locale = flag:docks
		}
		event_background = docks
	}
	override_background = {
		trigger = {
			scope:locale = flag:feast
		}
		event_background = feast
	}
	override_background = {
		trigger = {
			scope:locale = flag:market
		}
		event_background = market
	}
	override_background = {
		trigger = {
			scope:locale = flag:tavern
		}
		event_background = tavern
	}
	override_background = {
		trigger = {
			scope:locale = flag:throne_room
		}
		event_background = throne_room
	}
	override_background = {
		trigger = {
			scope:locale = flag:garden
		}
		event_background = garden
	}
	override_background = {
		trigger = {
			scope:locale = flag:gallows
		}
		event_background = gallows
	}
	override_background = {
		trigger = {
			scope:locale = flag:bedchamber
		}
		event_background = bedchamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:study
		}
		event_background = study
	}
	override_background = {
		trigger = {
			scope:locale = flag:council_chamber
		}
		event_background = council_chamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:sitting_room
		}
		event_background = sitting_room
	}
	left_portrait = {
		character = root
		animation = flirtation
	}
	right_portrait = {
		character = scope:affairs_partner
		animation = flirtation_left
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 1
				}
				# Handjob Tease
				# Your continue building a rhythm going up and down his shaft with your hands.\n
				desc = sex_transition_1
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 3
				}
				# Handjob
				# Under the interminable strokes from your hand, [affairs_partner.GetFirstName]'s cock has fully hardened. Dew-like pre dribbles from the tip, lubricating the whole shaft.\n
				desc = sex_transition_3
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 8
				}
				# Dom Blowjob
				# You give [affairs_partner.GetFirstName]'s head a last lick, making sure to drag it out as if expressing your tongue's reluctance to part from it. You replace the warmth of your mouth with the milder warmth of your palms, and replace the bobbing of your head with strokes from your hands.\n
				desc = sex_transition_8
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10001
				}
				# 1: EventsSex.HANDJOB_TEASE -> EventsSex.HANDJOB failed
				# You're too turned on to be satisfied with just jerking him off.\n
				desc = sex_transition_10001
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10003
				}
				# 3: EventsSex.HANDJOB -> EventsSex.HANDJOB failed
				# You're too turned on to be satisfied with just jerking him off\n
				desc = sex_transition_10003
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10008
				}
				# 8: EventsSex.BLOWJOB_DOM -> EventsSex.HANDJOB failed
				# The potent musk of his member, inflated by the proximity of your nose to his pubes, strangely captivates you and you lose this opportunity to assert more dominance.\n
				desc = sex_transition_10008
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10009
				}
				# 9: EventsSex.BLOWJOB_DOM -> EventsSex.BLOWJOB_DOM failed
				# The incessant invasion of his member down your throat momentarily puts you in a trance, leaving the initiative in his hands.\n
				desc = sex_transition_10009
			}
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 1
			}
			# defaulted to 1: EventsSex.HANDJOB_TEASE -> EventsSex.HANDJOB
			desc = sex_transition_1
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 3
			}
			# defaulted to 3: EventsSex.HANDJOB -> EventsSex.HANDJOB
			desc = sex_transition_3
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 4
			}
			# defaulted to 8: EventsSex.BLOWJOB_DOM -> EventsSex.HANDJOB
			desc = sex_transition_8
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:root_cum = yes
				}
				desc = root_cum_f
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 2
				}
				desc = f_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 3
				}
				desc = f_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 4
				}
				desc = f_med_stam
			}
			desc = f_high_stam
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 2
				}
				desc = m_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 3
				}
				desc = m_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 4
				}
				desc = m_med_stam
			}
			desc = m_high_stam
		}
		desc = LIDAs.3.desc
	}
	immediate = {
		lida_ongoing_sex_effect = {
			STAMINA_COST_1 = 0
			STAMINA_COST_2 = 1
		}
		check_if_root_cum_effect = yes
		store_subdom_value_effect = yes
		calculate_dom_success_effect = yes
		random_list = {
			# HANDJOB
			10 = {
				save_scope_value_as = {
					name = dom_transition_0
					value = 3
				}
			}
		}
		save_scope_value_as = {
			name = dom_transition_1
			value = -1
		}
		random_list = {
			# BLOWJOB_DOM
			10 = {
				save_scope_value_as = {
					name = sub_transition_0
					value = 4
				}
			}
		}
		save_scope_value_as = {
			name = sub_transition_1
			value = -1
		}
		if = {
			limit = {
				scope:partner_stamina <= 0
			}
			random_list = {
				# HANDJOB_CUM_IN_HAND
				10 = {
					save_scope_value_as = {
						name = cum_transition_0
						value = 5
					}
				}
			}
			save_scope_value_as = {
				name = cum_transition_1
				value = -1
			}
		}
		debug_log_scopes = yes
	}
	option = {
		# 3: EventsSex.HANDJOB -> EventsSex.HANDJOB
		name = LIDAoption.3
		trigger = {
			NOT = { scope:root_cum = yes }
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 3
				scope:dom_transition_1 = 3
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 3
				scope:dom_transition_1 = 3
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 3
		}
		custom_tooltip = attempt_dom_tooltip
		save_temporary_scope_value_as = {
			name = this_dom_chance
			value = {
				add = scope:dom_chance
				add = 0
			}
		}
		if = {
			limit = {
				scope:dom_success <= scope:this_dom_chance
			}
			change_subdom_effect = {
				CHANGE = 1
			}
			save_scope_value_as = {
				name = sex_transition
				value = 3
			}
			trigger_event = LIDAs.3
		}
		else = {
			change_subdom_effect = {
				CHANGE = -2
			}
			save_scope_value_as = {
				name = sex_transition
				value = 10003
			}
			if = {
				limit = {
					scope:sub_transition_0 = 4
				}
				trigger_event = LIDAs.4
			}
		}
	}
	option = {
		# 4: EventsSex.HANDJOB -> EventsSex.BLOWJOB_DOM
		name = LIDAoption.4
		trigger = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 4
				scope:sub_transition_1 = 4
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 4
				scope:sub_transition_1 = 4
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 3
		}
		custom_tooltip = voluntary_sub_tooltip
		change_subdom_effect = {
			CHANGE = -1
		}
		save_scope_value_as = {
			name = sex_transition
			value = 4
		}
		trigger_event = LIDAs.4
	}
	option = {
		# 5: EventsSex.HANDJOB -> EventsCum.HANDJOB_CUM_IN_HAND
		name = LIDAoption.5
		trigger = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 5
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 5
				}
			}
		}
		show_as_unavailable = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 5
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 5
				}
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 3
		}
		trigger_event = LIDAc.1
	}
}
LIDAs.2 = {
	# Ass Tease
	type = character_event
	title = LIDAs.2.t
	theme = seduction
	override_background = {
		trigger = {
			scope:locale = flag:battlefield
		}
		event_background = battlefield
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_night
		}
		event_background = alley_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_day
		}
		event_background = alley_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:temple
		}
		event_background = temple
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_night
		}
		event_background = corridor_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_day
		}
		event_background = corridor_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:courtyard
		}
		event_background = courtyard
	}
	override_background = {
		trigger = {
			scope:locale = flag:dungeon
		}
		event_background = dungeon
	}
	override_background = {
		trigger = {
			scope:locale = flag:docks
		}
		event_background = docks
	}
	override_background = {
		trigger = {
			scope:locale = flag:feast
		}
		event_background = feast
	}
	override_background = {
		trigger = {
			scope:locale = flag:market
		}
		event_background = market
	}
	override_background = {
		trigger = {
			scope:locale = flag:tavern
		}
		event_background = tavern
	}
	override_background = {
		trigger = {
			scope:locale = flag:throne_room
		}
		event_background = throne_room
	}
	override_background = {
		trigger = {
			scope:locale = flag:garden
		}
		event_background = garden
	}
	override_background = {
		trigger = {
			scope:locale = flag:gallows
		}
		event_background = gallows
	}
	override_background = {
		trigger = {
			scope:locale = flag:bedchamber
		}
		event_background = bedchamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:study
		}
		event_background = study
	}
	override_background = {
		trigger = {
			scope:locale = flag:council_chamber
		}
		event_background = council_chamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:sitting_room
		}
		event_background = sitting_room
	}
	left_portrait = {
		character = root
		animation = flirtation
	}
	right_portrait = {
		character = scope:affairs_partner
		animation = flirtation_left
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 6
				}
				# Ass Tease
				# You continue to rub his rod in between your buns. You can feel a coolness from [affairs_partner.GetFirstName]'s pre, slicking up your back. The contrast with the rhythmic thrusts from his hot member makes this an interesting experience.\n
				desc = sex_transition_6
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 29
				}
				# Spicing it Up
				# \n
				desc = sex_transition_29
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 31
				}
				# Flowers in Bloom
				# \n
				desc = sex_transition_31
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 33
				}
				# Chains of Command
				# \n
				desc = sex_transition_33
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 35
				}
				# Privileges of Power
				# \n
				desc = sex_transition_35
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 37
				}
				# Mead in my Room?
				# \n
				desc = sex_transition_37
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 39
				}
				# An Intimate Discussion
				# \n
				desc = sex_transition_39
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 41
				}
				# Taste of Heaven in Hell
				# \n
				desc = sex_transition_41
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 43
				}
				# The Sweetest Torture
				# \n
				desc = sex_transition_43
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 45
				}
				# Who Owns Who
				# \n
				desc = sex_transition_45
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 47
				}
				# A Chance Encounter
				# \n
				desc = sex_transition_47
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10006
				}
				# 6: EventsSex.ASS_TEASE -> EventsSex.ASS_TEASE failed
				# You have better uses for that hard cock than just teasing it\n
				desc = sex_transition_10006
			}
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 2
			}
			# defaulted to 6: EventsSex.ASS_TEASE -> EventsSex.ASS_TEASE
			desc = sex_transition_6
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 1
			}
			# defaulted to 29: EventsFirst.MEETING_WITH_SPOUSE -> EventsSex.ASS_TEASE
			desc = sex_transition_29
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 2
			}
			# defaulted to 31: EventsFirst.MEETING_WITH_SPOUSE_INITIAL -> EventsSex.ASS_TEASE
			desc = sex_transition_31
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 3
			}
			# defaulted to 33: EventsFirst.MEETING_WITH_VASSAL -> EventsSex.ASS_TEASE
			desc = sex_transition_33
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 4
			}
			# defaulted to 35: EventsFirst.MEETING_WITH_VASSAL_INITIAL -> EventsSex.ASS_TEASE
			desc = sex_transition_35
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 5
			}
			# defaulted to 37: EventsFirst.MEETING_WITH_LIEGE -> EventsSex.ASS_TEASE
			desc = sex_transition_37
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 6
			}
			# defaulted to 39: EventsFirst.MEETING_WITH_LIEGE_INITIAL -> EventsSex.ASS_TEASE
			desc = sex_transition_39
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 7
			}
			# defaulted to 41: EventsFirst.MEETING_WITH_PRISONER -> EventsSex.ASS_TEASE
			desc = sex_transition_41
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 8
			}
			# defaulted to 43: EventsFirst.MEETING_WITH_PRISONER_INITIAL -> EventsSex.ASS_TEASE
			desc = sex_transition_43
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 9
			}
			# defaulted to 45: EventsFirst.MEETING_WITH_ACQUAINTANCE -> EventsSex.ASS_TEASE
			desc = sex_transition_45
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 10
			}
			# defaulted to 47: EventsFirst.MEETING_WITH_ACQUAINTANCE_INITIAL -> EventsSex.ASS_TEASE
			desc = sex_transition_47
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:root_cum = yes
				}
				desc = root_cum_f
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 2
				}
				desc = f_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 3
				}
				desc = f_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 4
				}
				desc = f_med_stam
			}
			desc = f_high_stam
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 2
				}
				desc = m_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 3
				}
				desc = m_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 4
				}
				desc = m_med_stam
			}
			desc = m_high_stam
		}
		desc = LIDAs.2.desc
	}
	immediate = {
		lida_ongoing_sex_effect = {
			STAMINA_COST_1 = 1
			STAMINA_COST_2 = 2
		}
		check_if_root_cum_effect = yes
		store_subdom_value_effect = yes
		# enforce dom success if we have no sub options to ensure there is at least a valid option
		save_scope_value_as = {
			name = dom_chance
			value = 100
		}
		save_scope_value_as = {
			name = dom_success
			value = 0
		}
		random_list = {
			# ASS_TEASE
			10 = {
				save_scope_value_as = {
					name = dom_transition_0
					value = 6
				}
			}
		}
		save_scope_value_as = {
			name = dom_transition_1
			value = -1
		}
		if = {
			limit = {
				scope:partner_stamina <= 0
			}
			random_list = {
				# ASS_TEASE_CUM_ON_ASS
				10 = {
					save_scope_value_as = {
						name = cum_transition_0
						value = 7
					}
				}
			}
			save_scope_value_as = {
				name = cum_transition_1
				value = -1
			}
		}
		debug_log_scopes = yes
	}
	option = {
		# 6: EventsSex.ASS_TEASE -> EventsSex.ASS_TEASE
		name = LIDAoption.6
		trigger = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 6
				scope:dom_transition_1 = 6
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 6
				scope:dom_transition_1 = 6
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 2
		}
		custom_tooltip = dom_no_sub_tooltip
		save_temporary_scope_value_as = {
			name = this_dom_chance
			value = {
				add = scope:dom_chance
				add = 0
			}
		}
		if = {
			limit = {
				scope:dom_success <= scope:this_dom_chance
			}
			change_subdom_effect = {
				CHANGE = 1
			}
			save_scope_value_as = {
				name = sex_transition
				value = 6
			}
			trigger_event = LIDAs.2
		}
		else = {
			change_subdom_effect = {
				CHANGE = -2
			}
			save_scope_value_as = {
				name = sex_transition
				value = 10006
			}
		}
	}
	option = {
		# 7: EventsSex.ASS_TEASE -> EventsCum.ASS_TEASE_CUM_ON_ASS
		name = LIDAoption.7
		trigger = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 7
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 7
				}
			}
		}
		show_as_unavailable = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 7
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 7
				}
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 2
		}
		trigger_event = LIDAc.5
	}
}
LIDAs.4 = {
	# Dom Blowjob
	type = character_event
	title = LIDAs.4.t
	theme = seduction
	override_background = {
		trigger = {
			scope:locale = flag:battlefield
		}
		event_background = battlefield
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_night
		}
		event_background = alley_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_day
		}
		event_background = alley_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:temple
		}
		event_background = temple
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_night
		}
		event_background = corridor_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_day
		}
		event_background = corridor_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:courtyard
		}
		event_background = courtyard
	}
	override_background = {
		trigger = {
			scope:locale = flag:dungeon
		}
		event_background = dungeon
	}
	override_background = {
		trigger = {
			scope:locale = flag:docks
		}
		event_background = docks
	}
	override_background = {
		trigger = {
			scope:locale = flag:feast
		}
		event_background = feast
	}
	override_background = {
		trigger = {
			scope:locale = flag:market
		}
		event_background = market
	}
	override_background = {
		trigger = {
			scope:locale = flag:tavern
		}
		event_background = tavern
	}
	override_background = {
		trigger = {
			scope:locale = flag:throne_room
		}
		event_background = throne_room
	}
	override_background = {
		trigger = {
			scope:locale = flag:garden
		}
		event_background = garden
	}
	override_background = {
		trigger = {
			scope:locale = flag:gallows
		}
		event_background = gallows
	}
	override_background = {
		trigger = {
			scope:locale = flag:bedchamber
		}
		event_background = bedchamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:study
		}
		event_background = study
	}
	override_background = {
		trigger = {
			scope:locale = flag:council_chamber
		}
		event_background = council_chamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:sitting_room
		}
		event_background = sitting_room
	}
	left_portrait = {
		character = root
		animation = flirtation
	}
	right_portrait = {
		character = scope:affairs_partner
		animation = flirtation_left
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 2
				}
				# Handjob Tease
				# Looking up, you spot a look of anticipation on [affairs_partner.GetFirstName]'s face. They were probably not expecting you to volunteer your mouth's service. They start moving a hand to place behind your head, but you swat it away.\n
				desc = sex_transition_2
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 4
				}
				# Handjob
				# Looking up, you spot a look of anticipation on [affairs_partner.GetFirstName]'s face. They were probably not expecting you to volunteer your mouth's service. They start moving a hand to place behind your head, but you swat it away.\n
				desc = sex_transition_4
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 9
				}
				# Dom Blowjob
				# You continue to bob your head back and forth, occasionally glancing up and making adjustments based on their expression. The fact that you have total control over [affairs_partner.GetFirstName]'s pleasure makes you excited.\n
				desc = sex_transition_9
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 14
				}
				# Sub Blowjob
				# Putting both hands on his waist, you curb his thrusts. [affairs_partner.GetFirstName] moves his arms as if to protest, but your licks along his shaft resolve any nascent objections.\n
				desc = sex_transition_14
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10001
				}
				# 1: EventsSex.HANDJOB_TEASE -> EventsSex.HANDJOB failed
				# You're too turned on to be satisfied with just jerking him off.\n
				desc = sex_transition_10001
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10003
				}
				# 3: EventsSex.HANDJOB -> EventsSex.HANDJOB failed
				# You're too turned on to be satisfied with just jerking him off\n
				desc = sex_transition_10003
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10008
				}
				# 8: EventsSex.BLOWJOB_DOM -> EventsSex.HANDJOB failed
				# The potent musk of his member, inflated by the proximity of your nose to his pubes, strangely captivates you and you lose this opportunity to assert more dominance.\n
				desc = sex_transition_10008
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10009
				}
				# 9: EventsSex.BLOWJOB_DOM -> EventsSex.BLOWJOB_DOM failed
				# The incessant invasion of his member down your throat momentarily puts you in a trance, leaving the initiative in his hands.\n
				desc = sex_transition_10009
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10014
				}
				# 14: EventsSex.BLOWJOB_SUB -> EventsSex.BLOWJOB_DOM failed
				# Putting both hands on his waist, you attempt to curb his thrusts. However, on your knees beneath him, you don't have enough leverage to forcefully stop him and he seems to have no intention of letting you back in control.\n
				desc = sex_transition_10014
			}
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 1
			}
			# defaulted to 2: EventsSex.HANDJOB_TEASE -> EventsSex.BLOWJOB_DOM
			desc = sex_transition_2
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 3
			}
			# defaulted to 4: EventsSex.HANDJOB -> EventsSex.BLOWJOB_DOM
			desc = sex_transition_4
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 4
			}
			# defaulted to 9: EventsSex.BLOWJOB_DOM -> EventsSex.BLOWJOB_DOM
			desc = sex_transition_9
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 6
			}
			# defaulted to 14: EventsSex.BLOWJOB_SUB -> EventsSex.BLOWJOB_DOM
			desc = sex_transition_14
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:root_cum = yes
				}
				desc = root_cum_f
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 2
				}
				desc = f_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 3
				}
				desc = f_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 4
				}
				desc = f_med_stam
			}
			desc = f_high_stam
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 2
				}
				desc = m_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 3
				}
				desc = m_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 4
				}
				desc = m_med_stam
			}
			desc = m_high_stam
		}
		desc = LIDAs.4.desc
	}
	immediate = {
		lida_ongoing_sex_effect = {
			STAMINA_COST_1 = 0.5
			STAMINA_COST_2 = 2
		}
		check_if_root_cum_effect = yes
		store_subdom_value_effect = yes
		calculate_dom_success_effect = yes
		random_list = {
			# HANDJOB
			5 = {
				save_scope_value_as = {
					name = dom_transition_0
					value = 8
				}
			}
			# BLOWJOB_DOM
			10 = {
				save_scope_value_as = {
					name = dom_transition_0
					value = 9
				}
			}
		}
		random_list = {
			# HANDJOB
			5 = {
				trigger = {
					NOT = {
						scope:dom_transition_0 = 8
					}
				}
				save_scope_value_as = {
					name = dom_transition_1
					value = 8
				}
			}
			# BLOWJOB_DOM
			10 = {
				trigger = {
					NOT = {
						scope:dom_transition_0 = 9
					}
				}
				save_scope_value_as = {
					name = dom_transition_1
					value = 9
				}
			}
		}
		random_list = {
			# BLOWJOB_SUB
			10 = {
				save_scope_value_as = {
					name = sub_transition_0
					value = 10
				}
			}
		}
		save_scope_value_as = {
			name = sub_transition_1
			value = -1
		}
		if = {
			limit = {
				scope:partner_stamina <= 0
			}
			random_list = {
				# BLOWJOB_CUM_IN_MOUTH_DOM
				3 = {
					save_scope_value_as = {
						name = cum_transition_0
						value = 11
					}
				}
				# BLOWJOB_CUM_ON_FACE
				3 = {
					save_scope_value_as = {
						name = cum_transition_0
						value = 12
					}
				}
				# BLOWJOB_RUINED_ORGASM
				10 = {
					save_scope_value_as = {
						name = cum_transition_0
						value = 13
					}
				}
			}
			random_list = {
				# BLOWJOB_CUM_IN_MOUTH_DOM
				3 = {
					trigger = {
						NOT = {
							scope:cum_transition_0 = 11
						}
					}
					save_scope_value_as = {
						name = cum_transition_1
						value = 11
					}
				}
				# BLOWJOB_CUM_ON_FACE
				3 = {
					trigger = {
						NOT = {
							scope:cum_transition_0 = 12
						}
					}
					save_scope_value_as = {
						name = cum_transition_1
						value = 12
					}
				}
				# BLOWJOB_RUINED_ORGASM
				10 = {
					trigger = {
						NOT = {
							scope:cum_transition_0 = 13
						}
					}
					save_scope_value_as = {
						name = cum_transition_1
						value = 13
					}
				}
			}
		}
		debug_log_scopes = yes
	}
	option = {
		# 8: EventsSex.BLOWJOB_DOM -> EventsSex.HANDJOB
		name = LIDAoption.8
		trigger = {
			NOT = { scope:root_cum = yes }
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 8
				scope:dom_transition_1 = 8
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 8
				scope:dom_transition_1 = 8
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 4
		}
		custom_tooltip = attempt_dom_tooltip
		save_temporary_scope_value_as = {
			name = this_dom_chance
			value = {
				add = scope:dom_chance
				add = 0
			}
		}
		if = {
			limit = {
				scope:dom_success <= scope:this_dom_chance
			}
			change_subdom_effect = {
				CHANGE = 1
			}
			save_scope_value_as = {
				name = sex_transition
				value = 8
			}
			trigger_event = LIDAs.3
		}
		else = {
			change_subdom_effect = {
				CHANGE = -2
			}
			save_scope_value_as = {
				name = sex_transition
				value = 10008
			}
			if = {
				limit = {
					scope:sub_transition_0 = 10
				}
				trigger_event = LIDAs.6
			}
		}
	}
	option = {
		# 9: EventsSex.BLOWJOB_DOM -> EventsSex.BLOWJOB_DOM
		name = LIDAoption.9
		trigger = {
			NOT = { scope:root_cum = yes }
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 9
				scope:dom_transition_1 = 9
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 9
				scope:dom_transition_1 = 9
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 4
		}
		custom_tooltip = attempt_dom_tooltip
		save_temporary_scope_value_as = {
			name = this_dom_chance
			value = {
				add = scope:dom_chance
				add = 0
			}
		}
		if = {
			limit = {
				scope:dom_success <= scope:this_dom_chance
			}
			change_subdom_effect = {
				CHANGE = 0
			}
			save_scope_value_as = {
				name = sex_transition
				value = 9
			}
			trigger_event = LIDAs.4
		}
		else = {
			change_subdom_effect = {
				CHANGE = -2
			}
			save_scope_value_as = {
				name = sex_transition
				value = 10009
			}
			if = {
				limit = {
					scope:sub_transition_0 = 10
				}
				trigger_event = LIDAs.6
			}
		}
	}
	option = {
		# 10: EventsSex.BLOWJOB_DOM -> EventsSex.BLOWJOB_SUB
		name = LIDAoption.10
		trigger = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 10
				scope:sub_transition_1 = 10
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 10
				scope:sub_transition_1 = 10
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 4
		}
		custom_tooltip = voluntary_sub_tooltip
		change_subdom_effect = {
			CHANGE = -1
		}
		save_scope_value_as = {
			name = sex_transition
			value = 10
		}
		trigger_event = LIDAs.6
	}
	option = {
		# 11: EventsSex.BLOWJOB_DOM -> EventsCum.BLOWJOB_CUM_IN_MOUTH_DOM
		name = LIDAoption.11
		trigger = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 11
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 11
				}
			}
		}
		show_as_unavailable = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 11
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 11
				}
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 4
		}
		trigger_event = LIDAc.2
	}
	option = {
		# 12: EventsSex.BLOWJOB_DOM -> EventsCum.BLOWJOB_CUM_ON_FACE
		name = LIDAoption.12
		trigger = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 12
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 12
				}
			}
		}
		show_as_unavailable = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 12
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 12
				}
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 4
		}
		trigger_event = LIDAc.3
	}
	option = {
		# 13: EventsSex.BLOWJOB_DOM -> EventsCum.BLOWJOB_RUINED_ORGASM
		name = LIDAoption.13
		trigger = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 13
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 13
				}
			}
		}
		show_as_unavailable = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 13
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 13
				}
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 4
		}
		trigger_event = LIDAc.4
	}
}
LIDAs.6 = {
	# Sub Blowjob
	type = character_event
	title = LIDAs.6.t
	theme = seduction
	override_background = {
		trigger = {
			scope:locale = flag:battlefield
		}
		event_background = battlefield
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_night
		}
		event_background = alley_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_day
		}
		event_background = alley_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:temple
		}
		event_background = temple
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_night
		}
		event_background = corridor_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_day
		}
		event_background = corridor_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:courtyard
		}
		event_background = courtyard
	}
	override_background = {
		trigger = {
			scope:locale = flag:dungeon
		}
		event_background = dungeon
	}
	override_background = {
		trigger = {
			scope:locale = flag:docks
		}
		event_background = docks
	}
	override_background = {
		trigger = {
			scope:locale = flag:feast
		}
		event_background = feast
	}
	override_background = {
		trigger = {
			scope:locale = flag:market
		}
		event_background = market
	}
	override_background = {
		trigger = {
			scope:locale = flag:tavern
		}
		event_background = tavern
	}
	override_background = {
		trigger = {
			scope:locale = flag:throne_room
		}
		event_background = throne_room
	}
	override_background = {
		trigger = {
			scope:locale = flag:garden
		}
		event_background = garden
	}
	override_background = {
		trigger = {
			scope:locale = flag:gallows
		}
		event_background = gallows
	}
	override_background = {
		trigger = {
			scope:locale = flag:bedchamber
		}
		event_background = bedchamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:study
		}
		event_background = study
	}
	override_background = {
		trigger = {
			scope:locale = flag:council_chamber
		}
		event_background = council_chamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:sitting_room
		}
		event_background = sitting_room
	}
	left_portrait = {
		character = root
		animation = flirtation
	}
	right_portrait = {
		character = scope:affairs_partner
		animation = flirtation_left
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10
				}
				# Dom Blowjob
				# Your jaw and neck sore from doing all the work, you decide to let him do pick up the slack. "Come on [affairs_partner.GetFirstName], show me your mettle." \n\nInstead of wasting words, he places both hands behind your head and starts thrusting.\n
				desc = sex_transition_10
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 15
				}
				# Sub Blowjob
				# You adjust your posture better suit his thrusts, making sure to pull away your teeth.\n
				desc = sex_transition_15
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 19
				}
				# Deepthroat
				# Putting both hands on his waist, you reduce his thrusts to a manageable pace and depth.\n
				desc = sex_transition_19
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10008
				}
				# 8: EventsSex.BLOWJOB_DOM -> EventsSex.HANDJOB failed
				# The potent musk of his member, inflated by the proximity of your nose to his pubes, strangely captivates you and you lose this opportunity to assert more dominance.\n
				desc = sex_transition_10008
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10009
				}
				# 9: EventsSex.BLOWJOB_DOM -> EventsSex.BLOWJOB_DOM failed
				# The incessant invasion of his member down your throat momentarily puts you in a trance, leaving the initiative in his hands.\n
				desc = sex_transition_10009
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10014
				}
				# 14: EventsSex.BLOWJOB_SUB -> EventsSex.BLOWJOB_DOM failed
				# Putting both hands on his waist, you attempt to curb his thrusts. However, on your knees beneath him, you don't have enough leverage to forcefully stop him and he seems to have no intention of letting you back in control.\n
				desc = sex_transition_10014
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10019
				}
				# 19: EventsSex.DEEPTHROAT -> EventsSex.BLOWJOB_SUB failed
				# Putting both hands on his waist, you push and try to stop his thrusts. It's all in vain, however, as he ignores you.\n
				desc = sex_transition_10019
			}
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 4
			}
			# defaulted to 10: EventsSex.BLOWJOB_DOM -> EventsSex.BLOWJOB_SUB
			desc = sex_transition_10
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 6
			}
			# defaulted to 15: EventsSex.BLOWJOB_SUB -> EventsSex.BLOWJOB_SUB
			desc = sex_transition_15
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 7
			}
			# defaulted to 19: EventsSex.DEEPTHROAT -> EventsSex.BLOWJOB_SUB
			desc = sex_transition_19
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:root_cum = yes
				}
				desc = root_cum_f
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 2
				}
				desc = f_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 3
				}
				desc = f_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 4
				}
				desc = f_med_stam
			}
			desc = f_high_stam
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 2
				}
				desc = m_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 3
				}
				desc = m_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 4
				}
				desc = m_med_stam
			}
			desc = m_high_stam
		}
		desc = LIDAs.6.desc
	}
	immediate = {
		lida_ongoing_sex_effect = {
			STAMINA_COST_1 = 1.0
			STAMINA_COST_2 = 1.5
		}
		check_if_root_cum_effect = yes
		store_subdom_value_effect = yes
		calculate_dom_success_effect = yes
		random_list = {
			# BLOWJOB_DOM
			10 = {
				save_scope_value_as = {
					name = dom_transition_0
					value = 14
				}
			}
		}
		save_scope_value_as = {
			name = dom_transition_1
			value = -1
		}
		random_list = {
			# BLOWJOB_SUB
			10 = {
				save_scope_value_as = {
					name = sub_transition_0
					value = 15
				}
			}
			# DEEPTHROAT
			10 = {
				save_scope_value_as = {
					name = sub_transition_0
					value = 16
				}
			}
		}
		random_list = {
			# BLOWJOB_SUB
			10 = {
				trigger = {
					NOT = {
						scope:sub_transition_0 = 15
					}
				}
				save_scope_value_as = {
					name = sub_transition_1
					value = 15
				}
			}
			# DEEPTHROAT
			10 = {
				trigger = {
					NOT = {
						scope:sub_transition_0 = 16
					}
				}
				save_scope_value_as = {
					name = sub_transition_1
					value = 16
				}
			}
		}
		if = {
			limit = {
				scope:partner_stamina <= 0
			}
			random_list = {
				# BLOWJOB_CUM_IN_MOUTH_SUB
				10 = {
					save_scope_value_as = {
						name = cum_transition_0
						value = 17
					}
				}
				# BLOWJOB_CUM_ON_FACE
				10 = {
					save_scope_value_as = {
						name = cum_transition_0
						value = 18
					}
				}
			}
			random_list = {
				# BLOWJOB_CUM_IN_MOUTH_SUB
				10 = {
					trigger = {
						NOT = {
							scope:cum_transition_0 = 17
						}
					}
					save_scope_value_as = {
						name = cum_transition_1
						value = 17
					}
				}
				# BLOWJOB_CUM_ON_FACE
				10 = {
					trigger = {
						NOT = {
							scope:cum_transition_0 = 18
						}
					}
					save_scope_value_as = {
						name = cum_transition_1
						value = 18
					}
				}
			}
		}
		debug_log_scopes = yes
	}
	option = {
		# 14: EventsSex.BLOWJOB_SUB -> EventsSex.BLOWJOB_DOM
		name = LIDAoption.14
		trigger = {
			NOT = { scope:root_cum = yes }
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 14
				scope:dom_transition_1 = 14
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 14
				scope:dom_transition_1 = 14
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 6
		}
		custom_tooltip = attempt_dom_tooltip
		save_temporary_scope_value_as = {
			name = this_dom_chance
			value = {
				add = scope:dom_chance
				add = 0
			}
		}
		if = {
			limit = {
				scope:dom_success <= scope:this_dom_chance
			}
			change_subdom_effect = {
				CHANGE = 1
			}
			save_scope_value_as = {
				name = sex_transition
				value = 14
			}
			trigger_event = LIDAs.4
		}
		else = {
			change_subdom_effect = {
				CHANGE = -2
			}
			save_scope_value_as = {
				name = sex_transition
				value = 10014
			}
			if = {
				limit = {
					scope:sub_transition_0 = 15
				}
				trigger_event = LIDAs.6
			}
			if = {
				limit = {
					scope:sub_transition_0 = 16
				}
				trigger_event = LIDAs.7
			}
		}
	}
	option = {
		# 15: EventsSex.BLOWJOB_SUB -> EventsSex.BLOWJOB_SUB
		name = LIDAoption.15
		trigger = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 15
				scope:sub_transition_1 = 15
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 15
				scope:sub_transition_1 = 15
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 6
		}
		custom_tooltip = voluntary_sub_tooltip
		change_subdom_effect = {
			CHANGE = -1
		}
		save_scope_value_as = {
			name = sex_transition
			value = 15
		}
		trigger_event = LIDAs.6
	}
	option = {
		# 16: EventsSex.BLOWJOB_SUB -> EventsSex.DEEPTHROAT
		name = LIDAoption.16
		trigger = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 16
				scope:sub_transition_1 = 16
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 16
				scope:sub_transition_1 = 16
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 6
		}
		custom_tooltip = voluntary_sub_tooltip
		change_subdom_effect = {
			CHANGE = -1
		}
		save_scope_value_as = {
			name = sex_transition
			value = 16
		}
		trigger_event = LIDAs.7
	}
	option = {
		# 17: EventsSex.BLOWJOB_SUB -> EventsCum.BLOWJOB_CUM_IN_MOUTH_SUB
		name = LIDAoption.17
		trigger = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 17
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 17
				}
			}
		}
		show_as_unavailable = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 17
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 17
				}
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 6
		}
		trigger_event = LIDAc.6
	}
	option = {
		# 18: EventsSex.BLOWJOB_SUB -> EventsCum.BLOWJOB_CUM_ON_FACE
		name = LIDAoption.18
		trigger = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 18
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 18
				}
			}
		}
		show_as_unavailable = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 18
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 18
				}
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 6
		}
		trigger_event = LIDAc.3
	}
}
LIDAs.7 = {
	# Deepthroat
	type = character_event
	title = LIDAs.7.t
	theme = seduction
	override_background = {
		trigger = {
			scope:locale = flag:battlefield
		}
		event_background = battlefield
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_night
		}
		event_background = alley_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:alley_day
		}
		event_background = alley_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:temple
		}
		event_background = temple
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_night
		}
		event_background = corridor_night
	}
	override_background = {
		trigger = {
			scope:locale = flag:corridor_day
		}
		event_background = corridor_day
	}
	override_background = {
		trigger = {
			scope:locale = flag:courtyard
		}
		event_background = courtyard
	}
	override_background = {
		trigger = {
			scope:locale = flag:dungeon
		}
		event_background = dungeon
	}
	override_background = {
		trigger = {
			scope:locale = flag:docks
		}
		event_background = docks
	}
	override_background = {
		trigger = {
			scope:locale = flag:feast
		}
		event_background = feast
	}
	override_background = {
		trigger = {
			scope:locale = flag:market
		}
		event_background = market
	}
	override_background = {
		trigger = {
			scope:locale = flag:tavern
		}
		event_background = tavern
	}
	override_background = {
		trigger = {
			scope:locale = flag:throne_room
		}
		event_background = throne_room
	}
	override_background = {
		trigger = {
			scope:locale = flag:garden
		}
		event_background = garden
	}
	override_background = {
		trigger = {
			scope:locale = flag:gallows
		}
		event_background = gallows
	}
	override_background = {
		trigger = {
			scope:locale = flag:bedchamber
		}
		event_background = bedchamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:study
		}
		event_background = study
	}
	override_background = {
		trigger = {
			scope:locale = flag:council_chamber
		}
		event_background = council_chamber
	}
	override_background = {
		trigger = {
			scope:locale = flag:sitting_room
		}
		event_background = sitting_room
	}
	left_portrait = {
		character = root
		animation = flirtation
	}
	right_portrait = {
		character = scope:affairs_partner
		animation = flirtation_left
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 16
				}
				# Sub Blowjob
				# He takes advantage of your lack of strong resistance to dominate your mouth further. Trapping your head with his hands, he plunges deeper while you gag.\n
				desc = sex_transition_16
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 20
				}
				# Deepthroat
				# He continues fucking your throat while your vision blurs against a mixture of tears, saliva, and sex juices.\n
				desc = sex_transition_20
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10014
				}
				# 14: EventsSex.BLOWJOB_SUB -> EventsSex.BLOWJOB_DOM failed
				# Putting both hands on his waist, you attempt to curb his thrusts. However, on your knees beneath him, you don't have enough leverage to forcefully stop him and he seems to have no intention of letting you back in control.\n
				desc = sex_transition_10014
			}
			triggered_desc = {
				trigger = {
					exists = scope:sex_transition
					scope:sex_transition = 10019
				}
				# 19: EventsSex.DEEPTHROAT -> EventsSex.BLOWJOB_SUB failed
				# Putting both hands on his waist, you push and try to stop his thrusts. It's all in vain, however, as he ignores you.\n
				desc = sex_transition_10019
			}
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 6
			}
			# defaulted to 16: EventsSex.BLOWJOB_SUB -> EventsSex.DEEPTHROAT
			desc = sex_transition_16
		}
		triggered_desc = {
			trigger = {
				exists = scope:sex_transition
				scope:sex_transition > 10000
				exists = scope:prev_event
				scope:prev_event = 7
			}
			# defaulted to 20: EventsSex.DEEPTHROAT -> EventsSex.DEEPTHROAT
			desc = sex_transition_20
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:root_cum = yes
				}
				desc = root_cum_f
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 2
				}
				desc = f_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 3
				}
				desc = f_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:root_stamina < 4
				}
				desc = f_med_stam
			}
			desc = f_high_stam
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 2
				}
				desc = m_very_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 3
				}
				desc = m_low_stam
			}
			triggered_desc = {
				trigger = {
					scope:partner_stamina < 4
				}
				desc = m_med_stam
			}
			desc = m_high_stam
		}
		desc = LIDAs.7.desc
	}
	immediate = {
		lida_ongoing_sex_effect = {
			STAMINA_COST_1 = 1.0
			STAMINA_COST_2 = 2.0
		}
		check_if_root_cum_effect = yes
		store_subdom_value_effect = yes
		calculate_dom_success_effect = yes
		random_list = {
			# BLOWJOB_SUB
			10 = {
				save_scope_value_as = {
					name = dom_transition_0
					value = 19
				}
			}
		}
		save_scope_value_as = {
			name = dom_transition_1
			value = -1
		}
		random_list = {
			# DEEPTHROAT
			10 = {
				save_scope_value_as = {
					name = sub_transition_0
					value = 20
				}
			}
		}
		save_scope_value_as = {
			name = sub_transition_1
			value = -1
		}
		if = {
			limit = {
				scope:partner_stamina <= 0
			}
			random_list = {
				# BLOWJOB_CUM_IN_MOUTH_SUB
				10 = {
					save_scope_value_as = {
						name = cum_transition_0
						value = 21
					}
				}
			}
			save_scope_value_as = {
				name = cum_transition_1
				value = -1
			}
		}
		debug_log_scopes = yes
	}
	option = {
		# 19: EventsSex.DEEPTHROAT -> EventsSex.BLOWJOB_SUB
		name = LIDAoption.19
		trigger = {
			NOT = { scope:root_cum = yes }
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 19
				scope:dom_transition_1 = 19
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:dom_transition_0 = 19
				scope:dom_transition_1 = 19
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 7
		}
		custom_tooltip = attempt_dom_tooltip
		save_temporary_scope_value_as = {
			name = this_dom_chance
			value = {
				add = scope:dom_chance
				add = 0
			}
		}
		if = {
			limit = {
				scope:dom_success <= scope:this_dom_chance
			}
			change_subdom_effect = {
				CHANGE = 1
			}
			save_scope_value_as = {
				name = sex_transition
				value = 19
			}
			trigger_event = LIDAs.6
		}
		else = {
			change_subdom_effect = {
				CHANGE = -2
			}
			save_scope_value_as = {
				name = sex_transition
				value = 10019
			}
			if = {
				limit = {
					scope:sub_transition_0 = 20
				}
				trigger_event = LIDAs.7
			}
		}
	}
	option = {
		# 20: EventsSex.DEEPTHROAT -> EventsSex.DEEPTHROAT
		name = LIDAoption.20
		trigger = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 20
				scope:sub_transition_1 = 20
			}
		}
		show_as_unavailable = {
			NOT = { exists = scope:cum_transition_0 }
			OR = {
				scope:sub_transition_0 = 20
				scope:sub_transition_1 = 20
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 7
		}
		custom_tooltip = voluntary_sub_tooltip
		change_subdom_effect = {
			CHANGE = -1
		}
		save_scope_value_as = {
			name = sex_transition
			value = 20
		}
		trigger_event = LIDAs.7
	}
	option = {
		# 21: EventsSex.DEEPTHROAT -> EventsCum.BLOWJOB_CUM_IN_MOUTH_SUB
		name = LIDAoption.21
		trigger = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 21
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 21
				}
			}
		}
		show_as_unavailable = {
			OR = {
				AND = {
					exists = scope:cum_transition_0
					scope:cum_transition_0 = 21
				}
				AND = {
					exists = scope:cum_transition_1
					scope:cum_transition_1 = 21
				}
			}
		}
		save_scope_value_as = {
			name = prev_event
			value = 7
		}
		trigger_event = LIDAc.6
	}
}